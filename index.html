<!DOCTYPE html>
<html lang="cs-CZ">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improapka</title>
    <link rel="icon" type="image/png" href="Images/pageincon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Loved+by+the+King&display=swap" rel="stylesheet">
</head>
<body>

<style>
/*Mobil*/
@media only screen and (max-width: 600px) {
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

.carousel-container {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  width: 100%;
  height: 100%;
}

button.arrowLeft {
  font-family: "Loved by the King", cursive;
  font-size: 10vw;
  margin-left: 1vw;
  margin-right: 1vw;
  margin-left: 2vw;
  margin-right: -7vw;
  background: none;
  border: none;
  cursor: pointer;
  z-index: 10;
  display: inline-block !important;
  color: white;
}


button.arrowRight {
  font-family: "Loved by the King", cursive;
  font-size: 10vw;
  margin-left: -7vw;
  margin-right: 2vw;
  background: none;
  border: none;
  cursor: pointer;
  z-index: 10;
  display: inline-block !important;
  color: white;
}

.container {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
}

.slide {
  display: none;
  flex-shrink: 0;
  width: 100%;
  justify-content: center;
  align-items: center;
}

.slide.active {
  display: flex;
  justify-content: center;
  align-items: center;
}

.items {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
}


div.textStyle {
  color: black;
  font-size: 5vw;
  width: 80%;
  max-width: 500px;
  margin: 0 auto;
  text-align: center;
}

.images {
  display: block;
  margin: 0 auto;
  width: 40vw !important;
}

.counterstyle {
  font-size: 4.5vw !important;
  font-family: "Loved by the King", cursive;
}

/*button.resetbutton {
  background-color: rgb(60, 60, 60);
  color: rgb(255, 255, 255);
  border-radius: 8vw;
  font-family: "Loved by the King", cursive;
  font-size: 7vw !important;
  padding: 2vw !important;
  margin: 1.5vh !important;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
}*/

}


/*PC*/
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  box-sizing: border-box;
  cursor: url("Images/cursor.png"),  default;
  background-color: black;
}

.container {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  max-width: 1200px !important;
  margin: 30px auto;
  box-sizing: border-box;
  min-height: calc(100vh - 80px);
  overflow: hidden;
}

.items {
  text-align: center;
  align-items: center;
  width: 100%;
}

.border {
  box-sizing: border-box;
  border-style: solid;
  border-color: black;
  border-width: 0.7rem;
  border-top-width: 0;
  border-bottom-width: 0;
  padding: 2rem;
  margin: 0 auto;
  background-color: white;
  max-width: 100%;
  width: 100%;
}

#itemstyle {
  width: 100%;
  align-items: center;
}

.textStyle {
  color: black;
  font-size: 1.2rem;
  padding: 1rem;
  margin-top: 1rem !important;
  font-family: "Loved by the King", cursive;
  align-items: center;
  width: 90%;
  margin: 0 auto;
  background-size: 100% 100%; 
  background-repeat: no-repeat;
  background-position: center;
  line-height: 1;
  max-width: 100%;
  word-break: break-word;
  transition: width 0.1s ease;
}

.arrowLeft, .arrowRight {
  font-size: 2rem;
  background: none;
  border: none;
  cursor: pointer;
  padding: 1rem;
  z-index: 10;
  display: none;
}

.images {
  width: 7rem;
  align-items: center;
  text-align: center;
  transition: width 0.2s ease;
}


.counterstyle {
  font-size: 1.4rem;
  font-family: "Loved by the King", cursive;
}


/*.resetbutton {
  background-color: rgb(60, 60, 60);
  color: rgb(255, 255, 255);
  border-radius: 5vw;
  font-size: 3vw;
  padding: 1vw;
  margin: 1vw !important;
  font-family: "Loved by the King", cursive;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  width: 50%;
  border: none;
  margin: auto;
}*/

/*.resetitem {
  align-items: center;
  text-align: center;
}*/


@media (min-width: 1000px) {
  .images {
    width: 16rem;
  }

  .textStyle {
    width: 12rem;
  }
}

@media (min-width: 800px) {
  .textStyle {
    font-size: 1.5rem;
  }

    .images {
    width: 13rem;
  }

    .counterstyle {
    font-size: 1.2rem !important;
  }
}



</style>
</head>

<body>
  <div class="carousel-container">
    <button class="arrowLeft" onclick="showPrevious()">←</button>

  <div class="container">
    <div class="slide emoce" id="itemstyle">
      <div class="border">
      <div class="items">
        <img src="Images/BAGstartemo.png" alt="emoce" id="ImgEMO" class="images" onclick="handleBagClick(this); showWordEmoce()">
          <p class="counterstyle">
            <span id="counterEmoce"></span> / <span>75</span>
          </p>
          <div class="resetitem">
          <!-- <button onclick="resetSlide('emoce')" class="resetbutton">↺</button> -->
          </div>
        <div style="background-image: url(Images/Emo1.png);" id="randomEmoce1" class="textStyle" onclick="lockedIn('randomEmoce1')">Možnost 1</div>
        <div style="background-image: url(Images/Emo2.png);" id="randomEmoce2" class="textStyle" onclick="lockedIn('randomEmoce2')">Možnost 2</div>
      </div>
      </div>
    </div>

    <div class="slide povolani" id="itemstyle">
      <div class="border">
      <div class="items">
         <img src="Images/BAGstartpov.png" alt="povolani" class="images" onclick="handleBagClick(this); showWordPovolani()">
          <p class="counterstyle">
            <span id="counterPovolani"></span> / <span>86</span>
          </p>
          <div class="resetitem">
          <!--  <button onclick="resetSlide('povolani')" class="resetbutton">↺</button> -->
          </div>
        <div style="background-image: url(Images/Pov1.png);" id="randomPovolani1" class="textStyle" onclick="lockedIn('randomPovolani1')">Možnost 1</div>
        <div style="background-image: url(Images/Pov2.png);" id="randomPovolani2" class="textStyle" onclick="lockedIn('randomPovolani2')">Možnost 2</div>
        </div>
      </div>
      </div>


    <div class="slide misto" id="itemstyle">
      <div class="border">
      <div class="items">
        <img src="Images/BAGstartmis.png" alt="misto" class="images" onclick="handleBagClick(this); showWordMisto()">
          <p class="counterstyle">
            <span id="counterMisto"></span> / <span>90</span>
          </p>
          <div class="resetitem">
          <!--  <button onclick="resetSlide('misto')" class="resetbutton">↺</button> -->
          </div>
        <div style="background-image: url(Images/Mis1.png);" id="randomMisto1" class="textStyle" onclick="lockedIn('randomMisto1')">Možnost 1</div>
        <div style="background-image: url(Images/Mis2.png);" id="randomMisto2" class="textStyle" onclick="lockedIn('randomMisto2')">Možnost 2</div>
        </div>
      </div>
      </div>

  </div>

  <button class="arrowRight" onclick="showNext()">→</button>
</div>



<script>

// Povolani
if (sessionStorage.getItem("options1Povolani")) {
  options1Povolani = JSON.parse(sessionStorage.getItem("options1Povolani"));
  if (options1Povolani.length === 0) {
    options1Povolani = ["průvodčí", "prodavač", "podnikatel", "cestovatel", "fotograf", "policista", "učitel", "úředník", "voják", "sportovec", "zedník", "programátor", "umělec", "mechanik", "instalatér", "zahradník", "ředitel", "popelář", "student", "rybář", "spisovatel", "trenér", "prezident", "právník", "reportér", "stylista", "horolezec", "zemědělec", "průvodce", "malíř pokojů", "taxikář", "dělník", "dřevorubec", "kurýr", "elektrikář", "doktor", "zdravotní sestra", "politik", "právník", "turista", "detektiv", "influencer", "kosmetička", "hudebník", "švec", "švadlena", "pilot", "námořník", "meteorolog", "barman", "barista", "číšník/servírka", "entomolog", "myslivec", "filozof", "parašutista", "tajný agent", "nájemný zabiják", "bylinkář", "kominík", "revizor", "bezdomovec", "realitní makléř", "vědec", "plavčík", "zločinec", "houbař", "vinař", "knihovník", "dj", "zákaznická podpora (helpdesk)", "terapeut", "kuchař", "věštkyně", "roztleskávačka", "ostraha", "režisér", "umývač oken", "uklízečka", "stěhovák", "převozník", "psycholog", "vrátný", "kouč", "cukrář", "pekař"
];
    sessionStorage.setItem("options1Povolani", JSON.stringify(options1Povolani));
  }
} else {
  options1Povolani = ["průvodčí", "prodavač", "podnikatel", "cestovatel", "fotograf", "policista", "učitel", "úředník", "voják", "sportovec", "zedník", "programátor", "umělec", "mechanik", "instalatér", "zahradník", "ředitel", "popelář", "student", "rybář", "spisovatel", "trenér", "prezident", "právník", "reportér", "stylista", "horolezec", "zemědělec", "průvodce", "malíř pokojů", "taxikář", "dělník", "dřevorubec", "kurýr", "elektrikář", "doktor", "zdravotní sestra", "politik", "právník", "turista", "detektiv", "influencer", "kosmetička", "hudebník", "švec", "švadlena", "pilot", "námořník", "meteorolog", "barman", "barista", "číšník/servírka", "entomolog", "myslivec", "filozof", "parašutista", "tajný agent", "nájemný zabiják", "bylinkář", "kominík", "revizor", "bezdomovec", "realitní makléř", "vědec", "plavčík", "zločinec", "houbař", "vinař", "knihovník", "dj", "zákaznická podpora (helpdesk)", "terapeut", "kuchař", "věštkyně", "roztleskávačka", "ostraha", "režisér", "umývač oken", "uklízečka", "stěhovák", "převozník", "psycholog", "vrátný", "kouč", "cukrář", "pekař"
];
}

// Misto
if (sessionStorage.getItem("options1Misto")) {
  options1Misto = JSON.parse(sessionStorage.getItem("options1Misto"));
  if (options1Misto.length === 0) {
    options1Misto = ["zastávka", "park", "útes", "pláž", "kino", "vlak", "jídelna", "divadlo", "les", "koupaliště", "nádraží", "letiště", "kemp", "stan", "poušť", "loď", "kancelář", "obchod/obchodní dům", "tramvaj", "zoo", "trafika", "knihovna", "byt", "most", "letadlo", "restaurace", "ulice", "nemocnice", "pole", "tělocvična", "škola", "hory", "náves", "zámek", "vinárna", "zahrada", "muzeum", "galerie", "výtah", "čekárna", "kadeřnictví", "sauna", "tržiště", "diskotéka", "koncert", "bar", "kavárna", "vesmírná loď", "čajovna", "banka", "fronta", "pouť/lunapark", "teambuilding", "firemní večírek", "talentová soutěž", "cirkus", "mrazící box", "poslední zastávka vlaku", "u zubaře", "temné zákoutí mysli", "centrum antikonfliktního týmu", "školní jídelna", "vědecká stanice na Antarktidě", "ponorka", "očistec", "peklo", "nebe", "učňovské kadeřnictví", "pitevna", "pila", "slepičárna", "účtárna", "kuchyňka", "novorozenecké oddělení", "kuřárna", "benzínová pumpa", "šatna", "kemp", "kanoe", "karneval", "pod vodou", "zkumavka", "místo činu", "kravín", "studna", "pivní půllitr", "hranice", "zřícenina", "schůze SVJ", "přijímací pohovor"
];
    sessionStorage.setItem("options1Misto", JSON.stringify(options1Misto));
  }
} else {
  options1Misto = ["zastávka", "park", "útes", "pláž", "kino", "vlak", "jídelna", "divadlo", "les", "koupaliště", "nádraží", "letiště", "kemp", "stan", "poušť", "loď", "kancelář", "obchod/obchodní dům", "tramvaj", "zoo", "trafika", "knihovna", "byt", "most", "letadlo", "restaurace", "ulice", "nemocnice", "pole", "tělocvična", "škola", "hory", "náves", "zámek", "vinárna", "zahrada", "muzeum", "galerie", "výtah", "čekárna", "kadeřnictví", "sauna", "tržiště", "diskotéka", "koncert", "bar", "kavárna", "vesmírná loď", "čajovna", "banka", "fronta", "pouť/lunapark", "teambuilding", "firemní večírek", "talentová soutěž", "cirkus", "mrazící box", "poslední zastávka vlaku", "u zubaře", "temné zákoutí mysli", "centrum antikonfliktního týmu", "školní jídelna", "vědecká stanice na Antarktidě", "ponorka", "očistec", "peklo", "nebe", "učňovské kadeřnictví", "pitevna", "pila", "slepičárna", "účtárna", "kuchyňka", "novorozenecké oddělení", "kuřárna", "benzínová pumpa", "šatna", "kemp", "kanoe", "karneval", "pod vodou", "zkumavka", "místo činu", "kravín", "studna", "pivní půllitr", "hranice", "zřícenina", "schůze SVJ", "přijímací pohovor"
];
}

// Emoce
if (sessionStorage.getItem("options1Emoce")) {
  options1Emoce = JSON.parse(sessionStorage.getItem("options1Emoce"));
  if (options1Emoce.length === 0) {
    options1Emoce = ["empatie", "důvěřivost", "naivita", "výbušnost/vznětlivost", "flegmatičnost", "zamilovanost", "energičnost", "hysterie", "trpělivost", "moudrost", "škodolibost", "otupělost", "radost", "smutek", "dramatičnost", "nápaditost/kreativita", "prospěchářství", "sebestřednost", "náladovost", "lenost", "zbabělost", "statečnost", "strach", "rozmazlenost", "úzkostlivost", "cílevědomost", "houževnatost", "poslušnost", "povýšenost", "ctižádost", "aktivní", "workoholik", "serióznost/vážnost", "bezohlednost", "vytrvalost", "bezcharakterní", "bojácný", "nedůvěřivý", "roztržitý", "líný", "lehkomyslnost", "pomstychtivost", "závist", "nepřátelství", "pesimismus", "puntičkářství", "neohroženost", "velkorysost", "vynalézavost", "rozvážnost", "stydlivost", "přecitlivělý", "asociální", "bezstarostnost", "činorodost", "depresivní", "vychloubačnost", "konzervativní", "lhostejnost", "koketnost", "lstivost", "vztahovačnost", "stydlivost/nesmělost", "nerozhodnost", "podezíravost", "přecitlivělý", "rozpustilost", "vášnivý/temperamentní", "zodpovědnost", "nezodpovědnost", "zapomětlivost", "záludnost", "impulsivní", "zbrklý", "hrdost"
];
    sessionStorage.setItem("options1Emoce", JSON.stringify(options1Emoce));
  }
} else {
  options1Emoce = ["empatie", "důvěřivost", "naivita", "výbušnost/vznětlivost", "flegmatičnost", "zamilovanost", "energičnost", "hysterie", "trpělivost", "moudrost", "škodolibost", "otupělost", "radost", "smutek", "dramatičnost", "nápaditost/kreativita", "prospěchářství", "sebestřednost", "náladovost", "lenost", "zbabělost", "statečnost", "strach", "rozmazlenost", "úzkostlivost", "cílevědomost", "houževnatost", "poslušnost", "povýšenost", "ctižádost", "aktivní", "workoholik", "serióznost/vážnost", "bezohlednost", "vytrvalost", "bezcharakterní", "bojácný", "nedůvěřivý", "roztržitý", "líný", "lehkomyslnost", "pomstychtivost", "závist", "nepřátelství", "pesimismus", "puntičkářství", "neohroženost", "velkorysost", "vynalézavost", "rozvážnost", "stydlivost", "přecitlivělý", "asociální", "bezstarostnost", "činorodost", "depresivní", "vychloubačnost", "konzervativní", "lhostejnost", "koketnost", "lstivost", "vztahovačnost", "stydlivost/nesmělost", "nerozhodnost", "podezíravost", "přecitlivělý", "rozpustilost", "vášnivý/temperamentní", "zodpovědnost", "nezodpovědnost", "zapomětlivost", "záludnost", "impulsivní", "zbrklý", "hrdost"
];
}



const slides = document.querySelectorAll('.slide');
let currentIndex = 0;

function updateSlides() {
  slides.forEach((slide, index) => {
    slide.classList.toggle('active', index === currentIndex);
  });
}

function showPrevious() {
  currentIndex = (currentIndex - 1 + slides.length) % slides.length;
  updateSlides();
}

function showNext() {
  currentIndex = (currentIndex + 1) % slides.length;
  updateSlides();
}

updateSlides();


const lockedWords = {
  hasBeenClickedEmoce: false,
  hasBeenClickedPovolani: false,
  hasBeenClickedMisto: false,
};

lockedWords.pairGeneratedEmoce = false;
lockedWords.pairGeneratedPovolani = false;
lockedWords.pairGeneratedMisto = false;


  var options1Povolani;
    if (sessionStorage.getItem("options1Povolani")) {
      options1Povolani = JSON.parse(sessionStorage.getItem("options1Povolani"));
    } else {
      options1Povolani = ["průvodčí", "prodavač", "podnikatel", "cestovatel", "fotograf", "policista", "učitel", "úředník", "voják", "sportovec", "zedník", "programátor", "umělec", "mechanik", "instalatér", "zahradník", "ředitel", "popelář", "student", "rybář", "spisovatel", "trenér", "prezident", "právník", "reportér", "stylista", "horolezec", "zemědělec", "průvodce", "malíř pokojů", "taxikář", "dělník", "dřevorubec", "kurýr", "elektrikář", "doktor", "zdravotní sestra", "politik", "právník", "turista", "detektiv", "influencer", "kosmetička", "hudebník", "švec", "švadlena", "pilot", "námořník", "meteorolog", "barman", "barista", "číšník/servírka", "entomolog", "myslivec", "filozof", "parašutista", "tajný agent", "nájemný zabiják", "bylinkář", "kominík", "revizor", "bezdomovec", "realitní makléř", "vědec", "plavčík", "zločinec", "houbař", "vinař", "knihovník", "dj", "zákaznická podpora (helpdesk)", "terapeut", "kuchař", "věštkyně", "roztleskávačka", "ostraha", "režisér", "umývač oken", "uklízečka", "stěhovák", "převozník", "psycholog", "vrátný", "kouč", "cukrář", "pekař"
      ];
    }
  const currentCountPovolani = options1Povolani.length;
  const totalCountPovolani = 86;

document.getElementById("counterPovolani").textContent =
options1Povolani.length;


function showWordPovolani() {
  if (lockedWords.pairGeneratedPovolani) return;

  const img = document.querySelector('img[alt="povolani"]');
  if (!lockedWords.hasBeenClickedPovolani) {
    img.src = "Images/BAGpov.png";
    lockedWords.hasBeenClickedPovolani = true;
  }

  let word1 = options1Povolani[Math.floor(Math.random() * options1Povolani.length)];
  let filteredOptions = options1Povolani.filter(word => word !== word1);
  let word2 = filteredOptions[Math.floor(Math.random() * filteredOptions.length)];

  const div1 = document.getElementById("randomPovolani1");
  const div2 = document.getElementById("randomPovolani2");

  if (word1 && word1.trim() !== "") {
    div1.textContent = word1;
    div1.style.visibility = "visible";
  }

  if (word2 && word2.trim() !== "") {
    div2.textContent = word2;
    div2.style.visibility = "visible";
  }

  lockedWords.pairGeneratedPovolani = true;
}


  var options1Misto;
    if (sessionStorage.getItem("options1Misto")) {
      options1Misto = JSON.parse(sessionStorage.getItem("options1Misto"));
    } else {
      options1Misto = ["zastávka", "park", "útes", "pláž", "kino", "vlak", "jídelna", "divadlo", "les", "koupaliště", "nádraží", "letiště", "kemp", "stan", "poušť", "loď", "kancelář", "obchod/obchodní dům", "tramvaj", "zoo", "trafika", "knihovna", "byt", "most", "letadlo", "restaurace", "ulice", "nemocnice", "pole", "tělocvična", "škola", "hory", "náves", "zámek", "vinárna", "zahrada", "muzeum", "galerie", "výtah", "čekárna", "kadeřnictví", "sauna", "tržiště", "diskotéka", "koncert", "bar", "kavárna", "vesmírná loď", "čajovna", "banka", "fronta", "pouť/lunapark", "teambuilding", "firemní večírek", "talentová soutěž", "cirkus", "mrazící box", "poslední zastávka vlaku", "u zubaře", "temné zákoutí mysli", "centrum antikonfliktního týmu", "školní jídelna", "vědecká stanice na Antarktidě", "ponorka", "očistec", "peklo", "nebe", "učňovské kadeřnictví", "pitevna", "pila", "slepičárna", "účtárna", "kuchyňka", "novorozenecké oddělení", "kuřárna", "benzínová pumpa", "šatna", "kemp", "kanoe", "karneval", "pod vodou", "zkumavka", "místo činu", "kravín", "studna", "pivní půllitr", "hranice", "zřícenina", "schůze SVJ", "přijímací pohovor"
      ];
    }


  const currentCountMisto = options1Misto.length;
  const totalCountMisto = 90;

document.getElementById("counterMisto").textContent =
options1Misto.length;

function showWordMisto() {
  if (lockedWords.pairGeneratedMisto) return;

  const img = document.querySelector('img[alt="misto"]');
  if (!lockedWords.hasBeenClickedPovolani) {
    img.src = "Images/BAGmis.png";
    lockedWords.hasBeenClickedMisto = true;
  }

  let word1 = options1Misto[Math.floor(Math.random() * options1Misto.length)];
  let filteredOptions = options1Misto.filter(word => word !== word1);
  let word2 = filteredOptions[Math.floor(Math.random() * filteredOptions.length)];

  const div1 = document.getElementById("randomMisto1");
  const div2 = document.getElementById("randomMisto2");

  if (word1 && word1.trim() !== "") {
    div1.textContent = word1;
    div1.style.visibility = "visible";
  }

  if (word2 && word2.trim() !== "") {
    div2.textContent = word2;
    div2.style.visibility = "visible";
  }

  lockedWords.pairGeneratedMisto = true;
}


  var options1Emoce;
    if (sessionStorage.getItem("options1Emoce")) {
      options1Emoce = JSON.parse(sessionStorage.getItem("options1Emoce"));
    } else {
      options1Emoce = ["empatie", "důvěřivost", "naivita", "výbušnost/vznětlivost", "flegmatičnost", "zamilovanost", "energičnost", "hysterie", "trpělivost", "moudrost", "škodolibost", "otupělost", "radost", "smutek", "dramatičnost", "nápaditost/kreativita", "prospěchářství", "sebestřednost", "náladovost", "lenost", "zbabělost", "statečnost", "strach", "rozmazlenost", "úzkostlivost", "cílevědomost", "houževnatost", "poslušnost", "povýšenost", "ctižádost", "aktivní", "workoholik", "serióznost/vážnost", "bezohlednost", "vytrvalost", "bezcharakterní", "bojácný", "nedůvěřivý", "roztržitý", "líný", "lehkomyslnost", "pomstychtivost", "závist", "nepřátelství", "pesimismus", "puntičkářství", "neohroženost", "velkorysost", "vynalézavost", "rozvážnost", "stydlivost", "přecitlivělý", "asociální", "bezstarostnost", "činorodost", "depresivní", "vychloubačnost", "konzervativní", "lhostejnost", "koketnost", "lstivost", "vztahovačnost", "stydlivost/nesmělost", "nerozhodnost", "podezíravost", "přecitlivělý", "rozpustilost", "vášnivý/temperamentní", "zodpovědnost", "nezodpovědnost", "zapomětlivost", "záludnost", "impulsivní", "zbrklý", "hrdost"
      ];
    }

  const currentCountEmoce = options1Emoce.length;
  const totalCountEmoce = 75;

document.getElementById("counterEmoce").textContent =
options1Emoce.length;


function showWordEmoce() {
  if (lockedWords.pairGeneratedEmoce) return;

  const img = document.querySelector('img[alt="emoce"]');
  if (!lockedWords.hasBeenClickedEmoce) {
    img.src = "Images/BAGemo.png";
    lockedWords.hasBeenClickedEmoce = true;
  }

  let word1 = options1Emoce[Math.floor(Math.random() * options1Emoce.length)];
  let filteredOptions = options1Emoce.filter(word => word !== word1);
  let word2 = filteredOptions[Math.floor(Math.random() * filteredOptions.length)];

  const div1 = document.getElementById("randomEmoce1");
  const div2 = document.getElementById("randomEmoce2");

  if (word1 && word1.trim() !== "") {
    div1.textContent = word1;
    div1.style.visibility = "visible";
  }

  if (word2 && word2.trim() !== "") {
    div2.textContent = word2;
    div2.style.visibility = "visible";
  }

  lockedWords.pairGeneratedEmoce = true;
}




function lockedIn(id) {

  if (lockedWords[id]) return;

  lockedWords[id] = true;

  const element = document.getElementById(id);
  const chosenWord = element.textContent.trim();
  element.style.color = "gray";


  const suffix = id.endsWith("1") ? "2" : "1";
  const otherId = id.slice(0, -1) + suffix;
  const otherElement = document.getElementById(otherId);
  if (otherElement) {
    otherElement.style.visibility = "hidden";
  }

const slide = element.closest(".slide");
const img = slide.querySelector("img");

if (img) {
  switch (img.alt) {
    case "misto":
      img.src = "Images/BAGdkmis.png";
      break;
    case "povolani":
      img.src = "Images/BAGdkpov.png";
      break;
    case "emoce":
      img.src = "Images/BAGdkemo.png";
      break;
  }
}


  if (id.includes("Povolani")) {
  lockedWords.pairGeneratedPovolani = false;
  removeWordFromList(options1Povolani, chosenWord, "povolani");
  refreshCounterPovolani();
  saveList();
} else if (id.includes("Misto")) {
  lockedWords.pairGeneratedMisto = false;
  removeWordFromList(options1Misto, chosenWord, "misto");
  refreshCounterMisto();
  saveList();
} else if (id.includes("Emoce")) {
  lockedWords.pairGeneratedEmoce = false;
  removeWordFromList(options1Emoce, chosenWord, "emoce");
  refreshCounterEmoce();
  saveList();
}

document.querySelectorAll(".textStyle").forEach(div => {
  if (div.textContent.trim() === "") {
    div.style.display = "none";
  }
});

}

function removeWordFromList(list, word, category) {
  const index = list.indexOf(word);
  if (index > -1) {
    list.splice(index, 1);
    sessionStorage.setItem(`options1${category}`, JSON.stringify(list));

  }
}

function refreshCounterPovolani() {
  document.getElementById("counterPovolani").textContent =
    options1Povolani.length;
    
}

function refreshCounterMisto() {
  document.getElementById("counterMisto").textContent =
    options1Misto.length;
}

function refreshCounterEmoce() {
  document.getElementById("counterEmoce").textContent =
    options1Emoce.length;
}

function handleBagClick(imgElement) {
  const slide = imgElement.closest(".slide");
  const lockedElement = Array.from(slide.querySelectorAll(".textStyle"))
    .find(el => lockedWords[el.id]);

  if (!lockedElement) return;

  const id = lockedElement.id;
  lockedWords[id] = false;


  lockedElement.style.color = "";

const originalBackgrounds = {
  randomEmoce1: "Images/Emo1.png",
  randomEmoce2: "Images/Emo2.png",
  randomPovolani1: "Images/Pov1.png",
  randomPovolani2: "Images/Pov2.png",
  randomMisto1: "Images/Mis1.png",
  randomMisto2: "Images/Mis2.png"
};


  const suffix = id.endsWith("1") ? "2" : "1";
  const otherId = id.slice(0, -1) + suffix;
  if (!document.getElementById(otherId)) {
    const recreated = document.createElement("div");
    recreated.id = otherId;
    recreated.className = lockedElement.className;
    recreated.textContent = otherId.endsWith("1") ? "Možnost 1" : "Možnost 2";
    recreated.onclick = () => lockedIn(otherId);
    recreated.style.backgroundImage = `url('${originalBackgrounds[otherId]}')`;
    lockedElement.parentElement.appendChild(recreated);

  }

  if (imgElement.alt === "povolani") {
    imgElement.src = "Images/BAGpov.png";
  } else if (imgElement.alt === "misto") {
    imgElement.src = "Images/BAGmis.png";
  } else if (imgElement.alt === "emoce") {
    imgElement.src = "Images/BAGemo.png";
  }

  if (
  (imgElement.alt === "povolani" && options1Povolani.length === 1) ||
  (imgElement.alt === "misto" && options1Misto.length === 1) ||
  (imgElement.alt === "emoce" && options1Emoce.length === 1)
  ) {
  resetSlide(imgElement.alt);
  }

}

const slideConfig = {
  emoce: {
    original: ["empatie", "důvěřivost", "naivita", "výbušnost/vznětlivost", "flegmatičnost", "zamilovanost", "energičnost", "hysterie", "trpělivost", "moudrost", "škodolibost", "otupělost", "radost", "smutek", "dramatičnost", "nápaditost/kreativita", "prospěchářství", "sebestřednost", "náladovost", "lenost", "zbabělost", "statečnost", "strach", "rozmazlenost", "úzkostlivost", "cílevědomost", "houževnatost", "poslušnost", "povýšenost", "ctižádost", "aktivní", "workoholik", "serióznost/vážnost", "bezohlednost", "vytrvalost", "bezcharakterní", "bojácný", "nedůvěřivý", "roztržitý", "líný", "lehkomyslnost", "pomstychtivost", "závist", "nepřátelství", "pesimismus", "puntičkářství", "neohroženost", "velkorysost", "vynalézavost", "rozvážnost", "stydlivost", "přecitlivělý", "asociální", "bezstarostnost", "činorodost", "depresivní", "vychloubačnost", "konzervativní", "lhostejnost", "koketnost", "lstivost", "vztahovačnost", "stydlivost/nesmělost", "nerozhodnost", "podezíravost", "přecitlivělý", "rozpustilost", "vášnivý/temperamentní", "zodpovědnost", "nezodpovědnost", "zapomětlivost", "záludnost", "impulsivní", "zbrklý", "hrdost"
    ],
    options1: options1Emoce,
    word1Id: "randomEmoce1",
    word2Id: "randomEmoce2",
    counterId: "counterEmoce",
    defaultImage: "Images/BAGemo.png"
  },
  povolani: {
    original: ["průvodčí", "prodavač", "podnikatel", "cestovatel", "fotograf", "policista", "učitel", "úředník", "voják", "sportovec", "zedník", "programátor", "umělec", "mechanik", "instalatér", "zahradník", "ředitel", "popelář", "student", "rybář", "spisovatel", "trenér", "prezident", "právník", "reportér", "stylista", "horolezec", "zemědělec", "průvodce", "malíř pokojů", "taxikář", "dělník", "dřevorubec", "kurýr", "elektrikář", "doktor", "zdravotní sestra", "politik", "právník", "turista", "detektiv", "influencer", "kosmetička", "hudebník", "švec", "švadlena", "pilot", "námořník", "meteorolog", "barman", "barista", "číšník/servírka", "entomolog", "myslivec", "filozof", "parašutista", "tajný agent", "nájemný zabiják", "bylinkář", "kominík", "revizor", "bezdomovec", "realitní makléř", "vědec", "plavčík", "zločinec", "houbař", "vinař", "knihovník", "dj", "zákaznická podpora (helpdesk)", "terapeut", "kuchař", "věštkyně", "roztleskávačka", "ostraha", "režisér", "umývač oken", "uklízečka", "stěhovák", "převozník", "psycholog", "vrátný", "kouč", "cukrář", "pekař"
    ],
    options1: options1Povolani,
    word1Id: "randomPovolani1",
    word2Id: "randomPovolani2",
    counterId: "counterPovolani",
    defaultImage: "Images/BAGpov.png"
  },
  misto: {
    original: ["zastávka", "park", "útes", "pláž", "kino", "vlak", "jídelna", "divadlo", "les", "koupaliště", "nádraží", "letiště", "kemp", "stan", "poušť", "loď", "kancelář", "obchod/obchodní dům", "tramvaj", "zoo", "trafika", "knihovna", "byt", "most", "letadlo", "restaurace", "ulice", "nemocnice", "pole", "tělocvična", "škola", "hory", "náves", "zámek", "vinárna", "zahrada", "muzeum", "galerie", "výtah", "čekárna", "kadeřnictví", "sauna", "tržiště", "diskotéka", "koncert", "bar", "kavárna", "vesmírná loď", "čajovna", "banka", "fronta", "pouť/lunapark", "teambuilding", "firemní večírek", "talentová soutěž", "cirkus", "mrazící box", "poslední zastávka vlaku", "u zubaře", "temné zákoutí mysli", "centrum antikonfliktního týmu", "školní jídelna", "vědecká stanice na Antarktidě", "ponorka", "očistec", "peklo", "nebe", "učňovské kadeřnictví", "pitevna", "pila", "slepičárna", "účtárna", "kuchyňka", "novorozenecké oddělení", "kuřárna", "benzínová pumpa", "šatna", "kemp", "kanoe", "karneval", "pod vodou", "zkumavka", "místo činu", "kravín", "studna", "pivní půllitr", "hranice", "zřícenina", "schůze SVJ", "přijímací pohovor"
    ],
    options1: options1Misto,
    word1Id: "randomMisto1",
    word2Id: "randomMisto2",
    counterId: "counterMisto",
    defaultImage: "Images/BAGmis.png"
  }
};

function resetSlide(category) {
  const config = slideConfig[category];
  if (!config) return;

  const { original, options1, word1Id, word2Id, counterId, defaultImage } = config;

  options1.length = 0;
  options1.push(...original);

  sessionStorage.setItem(`options1${category.charAt(0).toUpperCase() + category.slice(1)}`, JSON.stringify(options1));


  [word1Id, word2Id].forEach(id => {
    lockedWords[id] = false;
    let el = document.getElementById(id);

    if (!el) {
      el = document.createElement("div");
      el.id = id;
      el.className = "textStyle";
      el.textContent = id.endsWith("1") ? "Možnost 1" : "Možnost 2";
      el.onclick = () => lockedIn(id);
      document.getElementById(word1Id).parentElement.appendChild(el);
    } else {
      el.style.color = "";
      el.textContent = id.endsWith("1") ? "Možnost 1" : "Možnost 2";
    }
    
  });

  const slide = document.getElementById(word1Id).closest(".slide");
  const img = slide.querySelector("img");
  if (img) img.src = defaultImage;

  document.getElementById(counterId).textContent = original.length;
  saveList();
  refreshCounterPovolani();
  refreshCounterEmoce();
  refreshCounterMisto();
}


function saveList() {
  sessionStorage.setItem("options1Povolani", JSON.stringify(options1Povolani));
  sessionStorage.setItem("options1Misto", JSON.stringify(options1Misto));
  sessionStorage.setItem("options1Emoce", JSON.stringify(options1Emoce));
}
</script>


</body>
</html>
